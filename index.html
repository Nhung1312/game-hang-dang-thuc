<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luy·ªán T·∫≠p H·∫±ng ƒê·∫≥ng Th·ª©c</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        
        .pulse-correct {
            animation: pulseCorrect 0.6s ease-in-out;
        }
        
        .pulse-wrong {
            animation: pulseWrong 0.6s ease-in-out;
        }
        
        @keyframes pulseCorrect {
            0% { transform: scale(1); background-color: rgb(34, 197, 94); }
            50% { transform: scale(1.05); background-color: rgb(22, 163, 74); }
            100% { transform: scale(1); background-color: rgb(34, 197, 94); }
        }
        
        @keyframes pulseWrong {
            0% { transform: scale(1); background-color: rgb(239, 68, 68); }
            50% { transform: scale(1.05); background-color: rgb(220, 38, 38); }
            100% { transform: scale(1); background-color: rgb(239, 68, 68); }
        }
        
        .timer-warning {
            animation: timerBlink 0.5s infinite;
        }
        
        @keyframes timerBlink {
            0%, 50% { color: rgb(239, 68, 68); }
            51%, 100% { color: rgb(248, 113, 113); }
        }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen">
    <!-- M√†n h√¨nh ch√†o m·ª´ng -->
    <div id="welcomeScreen" class="flex items-center justify-center min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900">
        <div class="text-center p-8 bg-gray-800 rounded-2xl shadow-2xl border border-gray-700 max-w-md mx-4">
            <h1 class="text-4xl font-bold mb-4 bg-gradient-to-r from-purple-400 to-blue-400 bg-clip-text text-transparent">
                üßÆ Luy·ªán T·∫≠p H·∫±ng ƒê·∫≥ng Th·ª©c
            </h1>
            <p class="text-gray-300 mb-6 text-lg">
                Th·ª≠ th√°ch ki·∫øn th·ª©c c·ªßa b·∫°n v·ªõi 20 c√¢u h·ªèi v·ªÅ h·∫±ng ƒë·∫≥ng th·ª©c!
            </p>
            <div class="mb-6 text-left text-sm text-gray-400 space-y-2">
                <p>üìö Bao g·ªìm: Hi·ªáu hai b√¨nh ph∆∞∆°ng, B√¨nh ph∆∞∆°ng t·ªïng & hi·ªáu</p>
                <p>‚è±Ô∏è Th·ªùi gian: 30 gi√¢y/c√¢u</p>
                <p>üéØ C·∫•p ƒë·ªô: Nh·∫≠n bi·∫øt, Th√¥ng hi·ªÉu, V·∫≠n d·ª•ng</p>
            </div>
            <button onclick="startGame()" class="bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 px-8 py-3 rounded-xl font-semibold text-lg transition-all duration-300 transform hover:scale-105 shadow-lg">
                B·∫Øt ƒê·∫ßu Ch∆°i
            </button>
        </div>
    </div>

    <!-- M√†n h√¨nh tr√≤ ch∆°i -->
    <div id="gameScreen" class="hidden min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-indigo-900 p-4">
        <div class="max-w-4xl mx-auto">
            <!-- Header -->
            <div class="flex justify-between items-center mb-6 bg-gray-800 rounded-xl p-4 border border-gray-700">
                <div class="text-lg font-semibold">
                    C√¢u <span id="currentQuestion">1</span>/20
                </div>
                <div class="text-center">
                    <div id="timer" class="text-3xl font-bold text-blue-400">30</div>
                    <div class="text-sm text-gray-400">gi√¢y</div>
                </div>
                <div class="text-lg font-semibold">
                    ƒêi·ªÉm: <span id="score" class="text-green-400">0</span>
                </div>
            </div>

            <!-- C√¢u h·ªèi -->
            <div class="bg-gray-800 rounded-xl p-6 mb-6 border border-gray-700 shadow-xl">
                <div class="text-center mb-4">
                    <span id="questionType" class="inline-block bg-purple-600 text-white px-3 py-1 rounded-full text-sm font-medium"></span>
                </div>
                <h2 id="questionText" class="text-2xl font-semibold text-center mb-6 text-white"></h2>
                
                <!-- ƒê√°p √°n -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <button id="option0" class="option-btn bg-gray-700 hover:bg-gray-600 p-4 rounded-xl text-left transition-all duration-300 border border-gray-600 hover:border-purple-500" onclick="selectAnswer(0)">
                        <span class="font-semibold text-purple-400">A.</span> <span class="ml-2"></span>
                    </button>
                    <button id="option1" class="option-btn bg-gray-700 hover:bg-gray-600 p-4 rounded-xl text-left transition-all duration-300 border border-gray-600 hover:border-purple-500" onclick="selectAnswer(1)">
                        <span class="font-semibold text-blue-400">B.</span> <span class="ml-2"></span>
                    </button>
                    <button id="option2" class="option-btn bg-gray-700 hover:bg-gray-600 p-4 rounded-xl text-left transition-all duration-300 border border-gray-600 hover:border-purple-500" onclick="selectAnswer(2)">
                        <span class="font-semibold text-green-400">C.</span> <span class="ml-2"></span>
                    </button>
                    <button id="option3" class="option-btn bg-gray-700 hover:bg-gray-600 p-4 rounded-xl text-left transition-all duration-300 border border-gray-600 hover:border-purple-500" onclick="selectAnswer(3)">
                        <span class="font-semibold text-yellow-400">D.</span> <span class="ml-2"></span>
                    </button>
                </div>
            </div>

            <!-- Progress bar -->
            <div class="bg-gray-800 rounded-xl p-4 border border-gray-700">
                <div class="flex justify-between text-sm text-gray-400 mb-2">
                    <span>Ti·∫øn ƒë·ªô</span>
                    <span id="progressText">0%</span>
                </div>
                <div class="w-full bg-gray-700 rounded-full h-3">
                    <div id="progressBar" class="bg-gradient-to-r from-purple-500 to-blue-500 h-3 rounded-full transition-all duration-500" style="width: 0%"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- M√†n h√¨nh k·∫øt qu·∫£ -->
    <div id="resultScreen" class="hidden flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-indigo-900 p-4">
        <div class="text-center p-8 bg-gray-800 rounded-2xl shadow-2xl border border-gray-700 max-w-md mx-4">
            <div id="resultIcon" class="text-6xl mb-4">üéâ</div>
            <h2 class="text-3xl font-bold mb-4 text-white">Ho√†n Th√†nh!</h2>
            <div class="mb-6">
                <div class="text-5xl font-bold text-green-400 mb-2" id="finalScore">0</div>
                <div class="text-gray-300">c√¢u ƒë√∫ng / 20 c√¢u</div>
                <div class="text-lg mt-2" id="percentage"></div>
            </div>
            <div id="resultMessage" class="text-lg mb-6 text-gray-300"></div>
            <button onclick="restartGame()" class="bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 px-8 py-3 rounded-xl font-semibold text-lg transition-all duration-300 transform hover:scale-105 shadow-lg">
                Ch∆°i L·∫°i
            </button>
        </div>
    </div>

    <script>
        // D·ªØ li·ªáu c√¢u h·ªèi
        const questions = [
            // Nh·∫≠n bi·∫øt - Hi·ªáu hai b√¨nh ph∆∞∆°ng
            {
                type: "Nh·∫≠n bi·∫øt",
                question: "H·∫±ng ƒë·∫≥ng th·ª©c a¬≤ - b¬≤ b·∫±ng:",
                options: ["(a - b)(a + b)", "(a + b)¬≤", "(a - b)¬≤", "a¬≤ + b¬≤"],
                correct: 0
            },
            {
                type: "Nh·∫≠n bi·∫øt", 
                question: "Bi·ªÉu th·ª©c x¬≤ - 9 c√≥ th·ªÉ ph√¢n t√≠ch th√†nh:",
                options: ["(x - 3)¬≤", "(x - 3)(x + 3)", "(x + 3)¬≤", "x¬≤ + 9"],
                correct: 1
            },
            // Nh·∫≠n bi·∫øt - B√¨nh ph∆∞∆°ng t·ªïng
            {
                type: "Nh·∫≠n bi·∫øt",
                question: "H·∫±ng ƒë·∫≥ng th·ª©c (a + b)¬≤ b·∫±ng:",
                options: ["a¬≤ + b¬≤", "a¬≤ - 2ab + b¬≤", "a¬≤ + 2ab + b¬≤", "a¬≤ - b¬≤"],
                correct: 2
            },
            {
                type: "Nh·∫≠n bi·∫øt",
                question: "Khai tri·ªÉn (x + 3)¬≤ ta ƒë∆∞·ª£c:",
                options: ["x¬≤ + 6x + 9", "x¬≤ - 6x + 9", "x¬≤ + 9", "x¬≤ + 3x + 9"],
                correct: 0
            },
            // Nh·∫≠n bi·∫øt - B√¨nh ph∆∞∆°ng hi·ªáu
            {
                type: "Nh·∫≠n bi·∫øt",
                question: "H·∫±ng ƒë·∫≥ng th·ª©c (a - b)¬≤ b·∫±ng:",
                options: ["a¬≤ + 2ab + b¬≤", "a¬≤ - 2ab + b¬≤", "a¬≤ - b¬≤", "a¬≤ + b¬≤"],
                correct: 1
            },
            {
                type: "Nh·∫≠n bi·∫øt",
                question: "Khai tri·ªÉn (x - 5)¬≤ ta ƒë∆∞·ª£c:",
                options: ["x¬≤ - 10x + 25", "x¬≤ + 10x + 25", "x¬≤ - 25", "x¬≤ - 5x + 25"],
                correct: 0
            },
            // Th√¥ng hi·ªÉu - Hi·ªáu hai b√¨nh ph∆∞∆°ng
            {
                type: "Th√¥ng hi·ªÉu",
                question: "Ph√¢n t√≠ch 4x¬≤ - 25 th√†nh nh√¢n t·ª≠:",
                options: ["(2x - 5)(2x + 5)", "(4x - 5)(x + 5)", "(2x - 5)¬≤", "(x - 5)(4x + 5)"],
                correct: 0
            },
            {
                type: "Th√¥ng hi·ªÉu",
                question: "Bi·ªÉu th·ª©c 9a¬≤ - 16b¬≤ b·∫±ng:",
                options: ["(3a - 4b)¬≤", "(9a - 16b)(a + b)", "(3a - 4b)(3a + 4b)", "(3a + 4b)¬≤"],
                correct: 2
            },
            // Th√¥ng hi·ªÉu - B√¨nh ph∆∞∆°ng t·ªïng
            {
                type: "Th√¥ng hi·ªÉu",
                question: "N·∫øu (x + y)¬≤ = x¬≤ + 6xy + y¬≤, th√¨ xy b·∫±ng:",
                options: ["3", "6", "2", "1"],
                correct: 0
            },
            {
                type: "Th√¥ng hi·ªÉu",
                question: "Khai tri·ªÉn (2a + 3b)¬≤:",
                options: ["4a¬≤ + 12ab + 9b¬≤", "4a¬≤ + 6ab + 9b¬≤", "2a¬≤ + 6ab + 3b¬≤", "4a¬≤ + 9b¬≤"],
                correct: 0
            },
            // Th√¥ng hi·ªÉu - B√¨nh ph∆∞∆°ng hi·ªáu
            {
                type: "Th√¥ng hi·ªÉu",
                question: "Bi·ªÉu th·ª©c x¬≤ - 8x + 16 c√≥ th·ªÉ vi·∫øt th√†nh:",
                options: ["(x - 4)¬≤", "(x + 4)¬≤", "(x - 8)¬≤", "(x - 2)¬≤"],
                correct: 0
            },
            {
                type: "Th√¥ng hi·ªÉu",
                question: "Khai tri·ªÉn (3x - 2y)¬≤:",
                options: ["9x¬≤ - 6xy + 4y¬≤", "9x¬≤ - 12xy + 4y¬≤", "3x¬≤ - 4xy + 2y¬≤", "9x¬≤ + 12xy + 4y¬≤"],
                correct: 1
            },
            // V·∫≠n d·ª•ng - Hi·ªáu hai b√¨nh ph∆∞∆°ng
            {
                type: "V·∫≠n d·ª•ng",
                question: "T√≠nh nhanh 97¬≤ - 3¬≤:",
                options: ["9400", "9409", "9391", "9000"],
                correct: 0
            },
            {
                type: "V·∫≠n d·ª•ng",
                question: "N·∫øu a¬≤ - b¬≤ = 15 v√† a + b = 5, th√¨ a - b b·∫±ng:",
                options: ["3", "10", "5", "15"],
                correct: 0
            },
            // V·∫≠n d·ª•ng - B√¨nh ph∆∞∆°ng t·ªïng
            {
                type: "V·∫≠n d·ª•ng",
                question: "T√≠nh nhanh 103¬≤:",
                options: ["10609", "10600", "10909", "10309"],
                correct: 0
            },
            {
                type: "V·∫≠n d·ª•ng",
                question: "N·∫øu (x + 2)¬≤ = x¬≤ + 4x + 4, th√¨ gi√° tr·ªã c·ªßa x l√†:",
                options: ["M·ªçi s·ªë th·ª±c", "2", "0", "-2"],
                correct: 0
            },
            // V·∫≠n d·ª•ng - B√¨nh ph∆∞∆°ng hi·ªáu
            {
                type: "V·∫≠n d·ª•ng",
                question: "T√≠nh nhanh 98¬≤:",
                options: ["9604", "9600", "9804", "9404"],
                correct: 0
            },
            {
                type: "V·∫≠n d·ª•ng",
                question: "N·∫øu x¬≤ - 6x + 9 = 0, th√¨ x b·∫±ng:",
                options: ["3", "-3", "6", "9"],
                correct: 0
            },
            // V·∫≠n d·ª•ng cao - K·∫øt h·ª£p
            {
                type: "V·∫≠n d·ª•ng",
                question: "R√∫t g·ªçn (x + y)¬≤ - (x - y)¬≤:",
                options: ["4xy", "2x¬≤", "2y¬≤", "0"],
                correct: 0
            },
            {
                type: "V·∫≠n d·ª•ng",
                question: "N·∫øu a + b = 7 v√† ab = 12, th√¨ a¬≤ + b¬≤ b·∫±ng:",
                options: ["25", "49", "37", "61"],
                correct: 0
            }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let timeLeft = 30;
        let timer;
        let gameQuestions = [];
        let answered = false;

        // √Çm thanh (s·ª≠ d·ª•ng Web Audio API)
        function playSound(frequency, duration, type = 'sine') {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.value = frequency;
            oscillator.type = type;
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + duration);
        }

        function playCorrectSound() {
            playSound(800, 0.2);
            setTimeout(() => playSound(1000, 0.3), 100);
        }

        function playWrongSound() {
            playSound(300, 0.5, 'sawtooth');
        }

        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        function startGame() {
            document.getElementById('welcomeScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('hidden');
            
            // Tr·ªôn c√¢u h·ªèi
            gameQuestions = shuffleArray(questions);
            currentQuestionIndex = 0;
            score = 0;
            
            showQuestion();
            startTimer();
        }

        function showQuestion() {
            answered = false;
            const question = gameQuestions[currentQuestionIndex];
            
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            document.getElementById('questionType').textContent = question.type;
            document.getElementById('questionText').textContent = question.question;
            
            // Tr·ªôn ƒë√°p √°n
            const shuffledOptions = [...question.options];
            const correctAnswer = shuffledOptions[question.correct];
            
            // Shuffle options
            for (let i = shuffledOptions.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffledOptions[i], shuffledOptions[j]] = [shuffledOptions[j], shuffledOptions[i]];
            }
            
            // T√¨m v·ªã tr√≠ m·ªõi c·ªßa ƒë√°p √°n ƒë√∫ng
            const newCorrectIndex = shuffledOptions.indexOf(correctAnswer);
            gameQuestions[currentQuestionIndex].shuffledCorrect = newCorrectIndex;
            
            // Hi·ªÉn th·ªã ƒë√°p √°n
            for (let i = 0; i < 4; i++) {
                const optionBtn = document.getElementById(`option${i}`);
                optionBtn.querySelector('span:last-child').textContent = shuffledOptions[i];
                optionBtn.className = "option-btn bg-gray-700 hover:bg-gray-600 p-4 rounded-xl text-left transition-all duration-300 border border-gray-600 hover:border-purple-500";
                optionBtn.disabled = false;
            }
            
            // Reset timer
            timeLeft = 30;
            updateTimer();
        }

        function startTimer() {
            timer = setInterval(() => {
                timeLeft--;
                updateTimer();
                
                if (timeLeft <= 0) {
                    timeUp();
                }
            }, 1000);
        }

        function updateTimer() {
            const timerElement = document.getElementById('timer');
            timerElement.textContent = timeLeft;
            
            if (timeLeft <= 10) {
                timerElement.classList.add('timer-warning');
            } else {
                timerElement.classList.remove('timer-warning');
            }
        }

        function selectAnswer(selectedIndex) {
            if (answered) return;
            
            answered = true;
            clearInterval(timer);
            
            const question = gameQuestions[currentQuestionIndex];
            const isCorrect = selectedIndex === question.shuffledCorrect;
            
            // Hi·ªÉn th·ªã k·∫øt qu·∫£
            for (let i = 0; i < 4; i++) {
                const optionBtn = document.getElementById(`option${i}`);
                optionBtn.disabled = true;
                
                if (i === question.shuffledCorrect) {
                    optionBtn.className = "option-btn bg-green-600 p-4 rounded-xl text-left border border-green-500 pulse-correct";
                } else if (i === selectedIndex && !isCorrect) {
                    optionBtn.className = "option-btn bg-red-600 p-4 rounded-xl text-left border border-red-500 pulse-wrong";
                } else {
                    optionBtn.className = "option-btn bg-gray-600 p-4 rounded-xl text-left border border-gray-500";
                }
            }
            
            if (isCorrect) {
                score++;
                playCorrectSound();
                document.getElementById('score').textContent = score;
            } else {
                playWrongSound();
            }
            
            // C·∫≠p nh·∫≠t progress
            const progress = ((currentQuestionIndex + 1) / 20) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('progressText').textContent = Math.round(progress) + '%';
            
            // Chuy·ªÉn c√¢u ti·∫øp theo sau 2 gi√¢y
            setTimeout(() => {
                currentQuestionIndex++;
                if (currentQuestionIndex < 20) {
                    showQuestion();
                    startTimer();
                } else {
                    showResult();
                }
            }, 2000);
        }

        function timeUp() {
            if (answered) return;
            
            answered = true;
            clearInterval(timer);
            
            const question = gameQuestions[currentQuestionIndex];
            
            // Hi·ªÉn th·ªã ƒë√°p √°n ƒë√∫ng
            for (let i = 0; i < 4; i++) {
                const optionBtn = document.getElementById(`option${i}`);
                optionBtn.disabled = true;
                
                if (i === question.shuffledCorrect) {
                    optionBtn.className = "option-btn bg-green-600 p-4 rounded-xl text-left border border-green-500";
                } else {
                    optionBtn.className = "option-btn bg-gray-600 p-4 rounded-xl text-left border border-gray-500";
                }
            }
            
            playWrongSound();
            
            // C·∫≠p nh·∫≠t progress
            const progress = ((currentQuestionIndex + 1) / 20) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('progressText').textContent = Math.round(progress) + '%';
            
            setTimeout(() => {
                currentQuestionIndex++;
                if (currentQuestionIndex < 20) {
                    showQuestion();
                    startTimer();
                } else {
                    showResult();
                }
            }, 2000);
        }

        function showResult() {
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('resultScreen').classList.remove('hidden');
            
            const percentage = (score / 20) * 100;
            
            document.getElementById('finalScore').textContent = score;
            document.getElementById('percentage').textContent = `${percentage.toFixed(1)}%`;
            
            let message, icon;
            if (percentage >= 90) {
                message = "Xu·∫•t s·∫Øc! B·∫°n ƒë√£ th√†nh th·∫°o h·∫±ng ƒë·∫≥ng th·ª©c!";
                icon = "üèÜ";
            } else if (percentage >= 80) {
                message = "R·∫•t t·ªët! B·∫°n ƒë√£ n·∫Øm v·ªØng ki·∫øn th·ª©c!";
                icon = "üéâ";
            } else if (percentage >= 70) {
                message = "Kh√° t·ªët! H√£y luy·ªán t·∫≠p th√™m nh√©!";
                icon = "üëç";
            } else if (percentage >= 60) {
                message = "C·∫ßn c·ªë g·∫Øng th√™m! ƒê·ª´ng b·ªè cu·ªôc!";
                icon = "üí™";
            } else {
                message = "H√£y √¥n l·∫°i l√Ω thuy·∫øt v√† th·ª≠ l·∫°i nh√©!";
                icon = "üìö";
            }
            
            document.getElementById('resultMessage').textContent = message;
            document.getElementById('resultIcon').textContent = icon;
        }

        function restartGame() {
            document.getElementById('resultScreen').classList.add('hidden');
            document.getElementById('welcomeScreen').classList.remove('hidden');
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96aac5fbf6fc5dcf',t:'MTc1NDQ0Mzg3Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
